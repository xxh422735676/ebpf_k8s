# ebpf_k8s

本文档阐述项目的目的，组织结构，以及项目进度。

## 目的

采用eBPF无侵入式注入Linux内核的方式，并且外部设计了用于统计观测数据的服务注册中心和前后端管理程序，实现了对Kubernetes的可观测性。同时基于eBPF可以修改数据流量包，转发套接字流量的特性，实现了在Kubernetes内部对Nginx Ingress等网络通信流量的加速。

本项目有三个子系统：数据监视，可视化以及负载均衡。其中数据监视系统包含了对单机的kubernetes网络流量的观测，统计以及加速功能。可视化系统包含了对集群状态的监视，上下限特定主机的监视状态，以及可视化输出的功能。负载均衡系统包含了对内存型数据库的加速，流量的负载均衡以及网关功能。

集群在同一子网中架设。

## 组织架构

### k8s

存放kubernetes相关初始化的脚本，配置参数文件等

### gui

存放可视化系统相关的源代码，构建脚本以及配置参数文件等

### ebpf

存放ebpf相关的源代码，包括kubernetes网络流量的监控以及数据统计，内核xdp加速，对内存型数据库的加速，流量的负载均衡等功能，以及相关初始化脚本。

## 项目进度

### kubernetes

| 事项                      | 进度 |
| ------------------------- | ---- |
| kubernetes初始化shell脚本 |      |



### 可视化

| 事项               | 进度 |
| ------------------ | ---- |
| 前端数据可视化输出 |      |
| 后端业务逻辑处理   |      |
| 部署脚本           |      |

### ebpf

| 事项              | 进度 |
| ----------------- | ---- |
| 网络流量RX/TX监控 |      |
| 容器内部流量监控  |      |
| 负载均衡          |      |
| 数据统计          |      |
| 部署脚本          |      |

